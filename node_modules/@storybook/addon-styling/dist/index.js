'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var previewApi = require('@storybook/preview-api');
var f = require('react');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var f__default = /*#__PURE__*/_interopDefault(f);

var D=Object.defineProperty;var _=(e,t)=>{for(var r in t)D(e,r,{get:t[r],enumerable:!0});};var y={};_(y,{initializeThemeState:()=>h,pluckThemeFromContext:()=>c,useThemeParameters:()=>T});var C="@storybook/addon-styling",P=`${C}/theme-switcher`,g="theming",R="theme";var x={},S={REGISTER_THEMES:`${P}/REGISTER_THEMES`};function c({globals:e}){return e[R]||""}function T(){return previewApi.useParameter(g,x)}function h(e,t){previewApi.addons.getChannel().emit(S.REGISTER_THEMES,{defaultTheme:t,themes:e});}var N="html",A=e=>e.split(" ").filter(Boolean),z=({themes:e,defaultTheme:t,parentSelector:r=N})=>(h(Object.keys(e),t),(o,p)=>{let{themeOverride:n}=T(),s=c(p);return previewApi.useEffect(()=>{let m=n||s||t,i=document.querySelector(r);Object.entries(e).filter(([E])=>E!==m).forEach(([E,u])=>{let d=A(u);d.length>0&&i.classList.remove(...d);});let a=A(e[m]);a.length>0&&i.classList.add(...a);},[n,s,r]),o()});var b="html",k="data-theme",$=({themes:e,defaultTheme:t,parentSelector:r=b,attributeName:o=k})=>(h(Object.keys(e),t),(p,n)=>{let{themeOverride:s}=T(),m=c(n);return previewApi.useEffect(()=>{let i=document.querySelector(r),a=s||m||t;i.setAttribute(o,e[a]);},[s,m,r,o]),p()});var H=([e,t])=>t,Z=({Provider:e,GlobalStyles:t,defaultTheme:r,themes:o={}})=>{let p=Object.keys(o),n=r||p[0];return h(p,n),(s,m)=>{let{themeOverride:i}=T(),a=c(m),E=previewApi.useMemo(()=>{let d=i||a||n,l=Object.entries(o);return l.length===1?H(l[0]):o[d]},[o,a,i]),u=e||f__default.default.Fragment;return f__default.default.createElement(u,{theme:E},t&&f__default.default.createElement(t,null),s())}};var se={};

exports.DecoratorHelpers = y;
exports.default = se;
exports.withThemeByClassName = z;
exports.withThemeByDataAttribute = $;
exports.withThemeFromJSXProvider = Z;
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map